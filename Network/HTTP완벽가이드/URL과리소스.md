## URL과 리소스

- URL은 Uniform Resource Locator의 줄임말로 인터넷의 리소스를 가리키는 표준 이름이다

### 2.1 인터넷의 리소스 탐색하기

- URL은

  - 브라우저가 정보를 찾는데 필요한 리소스의 위치를 가리킨다

- url을 통해

  - 사람과 애플리케이션이 인터넷 상의 수십 억개의 리소스를 찾고 공유할 수 있음
  - HTTP 및 다른 프로토콜를 통해 접근할 수 있다

- URL은

  - URI (uniform resource identifier)의 부분집합이다
  - URI는 URL과 URN으로 이루어진 종합적인 개념

- 구성
  - 스킴://서버위치/경로 구조로 이루어져있다
  1. 스킴
  - HTTP protocol을 가리킨다
  2. 서버의 위치
  - 리소스가 어디에 호스팅되어 있는지 알려준다
  3. 리소스의 경로
  - 서버에 존재하는 로컬 리소스들 중에서 요청 받은 리로스가 무엇인지 알려준다

#### 2.2 URL 문법

- `<스킴>://<사용자이름>:<비밀번호>@<호스트>:<포트>/<경로>;<파라미터>?<질의>#<프래그먼트>`

1. 스킴

- 리소르를 가져오려면 어떤 프로토콜을 사용하여야 하는지 가리킨다

2. 사용자 이름

- 몇몇 스킴의 경우 사용자 이름이 필요한 경우가 있다

3. 비밀번호

- 사용자의 비밀번호를 가리킨다

4. 호스트

- 리소르를 호스팅하는 서버의 호스트명이나 IP주소

5. 포트

- 리소스를 호스팅하는 서버가 열어놓은 포트 번호
- HTTP의 경우 기본 포터 번호가 80이다

6. 경로

- / 으로 구분된다
- 서버내 리소스가 서버 어디에 있는지를 가리킨다

7. 파라미터

- 특정 스킴들에서 입력 파라미터를 가리키는 용도
- 이름 / 값 쌍으로 가진다
- ; 로 구분하여 여러개를 가질 수 있다

8. 질의 (query) 컴포넌트

- 스킴에서 애플리케이션에 파라미터를 전달하는데 사용됨
- ?로 구분한다

9. 프래그먼트

- 리소스의 조각이나 일부분을 가리키는 이름
- URL이 특정 객체를 가리킬 경우에 프래그먼트 필드는 서버에 전달하지 않고 클라이언트에서만 사용한다
- '#'로 구분한다

#### 2.3 단축 URL

1. 상대 URL

- url을 짧게 표기하는 방식
- 리소스에 접근하기 위한 모든 정보를 얻기 위해서는 base의 다른 url을 사용한다
- 상대 url은 리소 지합을 쉽게 변경할 수 있다
- 문서 집합의 위치를 변경하더라도 새로운 url에 의해서 해석될 수 있어 잘 동작할 수 있다

2. 절대 URL

- 리소스에 접근하는데 필요한 모든 정보를 가지고 있다

3. base URL

- resource에서 base url을 명확하기 기술하도록 한다
  - base HTML 태그를 기술통하여 base url로 쓸 수 있다
- base url이 없는 경우
  - 절대 url이거나 불완전한 url일 수 있다
- 상대 참조 해석하기
  - 상대 url을 절대 url로 변환시키기 위해 컴포넌트 조각으로 나누는 것

4. URL 확장

- 브라우저는 휴리스틱을 통해 입력한 호스트 명을 전체 호스트명으로 확장할 수 있다
  - "naver"만 입력하여도 www. 와 com을 붙여서 만들어준다
- 사용자가 방문했던 url 기록을 저장한다
  - 이전에 방문했던 url을 입력하면 자동완성을 해준다

#### 2.4 안전하지 않은 문자

- URL에서 사용할 수 있는 알파벳과 URL인코딩 규칙

1. 인코딩체계

- 안전하지 않은 문자들을 표현할 수 있는 인코딩 방식이 고안되어있음
- ~ , 빈문자, % 등이 있다

2. 문자 제한

- url내에서 특별한 의미로 예약되어 있는 문자들이 있기 때문에 해당 문자들을 사용할 경우 주의를 가해야함
- %
  - 인코딩된 문자에서 사용할 이스케이프 토큰
- /
  - 경로를 나누는 용도
- .
  - 경로 컴포넌트에서 사용
- ..
  - 경로 컴포넌트에서 사용
- #
  - 프래그먼트 구획문자로 사용
- ?
  - 질의 문자열 구획 문자로 사용
- ;
  - 파라미터 구획문자로 사용
- :
  - 스킴, 사용자이름/ 비밀번호 등 구획문자로 사용
- $ , +
  - 선점
- @ & =
  - 특정 스킴에서 의미있게 사용됨
- {} | \ ~ [] `
  - 게이트웨이와 같은 여러 전송 에이전트에서 불안전하게 다루기 때문에 제한됨
- <> "
  - 안전하지 않다

### 2.5 스킴의 바다

- http

  - 일반 URL 포맷을 지키는 하이퍼텍스트 전송 프로토콜 스킴
  - 기본값 80 포트를 가짐

- https
  - 보안울 위한 보안 소캣 계층을 사용한다
  - 기본값 443 포트를 가짐
